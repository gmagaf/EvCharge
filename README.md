# EvCharge

Αυτό το project δημιουργήθηκε στο πλαίσιο του μαθήματος NTUA/ECE Software Engineering, 2020-2021 από την ομάδα TL20-46 με τα ακόλουθα μέλη:

- Μαγκαφώσης Γιώργος (ΑΜ 03116125)
- Μάμαλη Κατερίνα (ΑΜ 03116017)
- Μπίτσικας Γρηγόρης (ΑΜ 03116693)
- Πετρακόπουλος Βασίλης (ΑΜ 03116105)
- Σταματελόπουλος Νίκος (ΑΜ 03116138)
- Τριανταφυλλόπουλος Ηλίας (ΑΜ 03116028)

Είναι ένα demo μιας εφαρμογής που θα μπορούσε να υποστηρίζει τη διαχείριση της φόρτισης ηλεκτρικών οχημάτων και στο οποίο έχουν υλοποιηθεί ορισμένες λειτουργίες. Περισσότερες πληροφορίες υπάρχουν στον φάκελο **documentation**.

## Frameworks

Έχουν χρησιμοποιηθεί τα παρακάτω εργαλεία-frameworks-βιβλιοθήκες:
- Back-end (Java, Groovy): Spring, Spock
- Front-end (JavaScript, HTML, CSS): React
- Cli-client (Python): Click, nose
- Βάση δεδομένων: MongoDB

> Υπάρχουν πληροφορίες για τα εργαλεία και στα αντίστοιχα `README.md` των παραπάνω φακέλων.

## Στήσιμο του project τοπικά

Για να στήσει κάποιος το project στον υπολογιστή του ολοκληρωμένα, πρέπει να ακολουθήσει τα επόμενα βήματα:

> Εννοείται μπορούν να παραληφθούν όσα είναι ήδη εγκατεστημένα. Επίσης, να σημειωθεί ότι το project έχει δοκιμαστεί μόνο σε συστήματα με Ubuntu, αλλά λογικά θα τρέχει και σε άλλα λειτουργικά, με κατάλληλες τροποποιήσεις και αν έχουν τις αντίστοιχες κατάλληλες εκδόσεις των παρακάτω.

1. Εγκατάσταση της MongoDB από την [ιστοσελίδα](https://docs.mongodb.com/manual/installation) της. Η τρέχουσα έκδοση της MongoDB την περίοδο της υλοποίησης του project είναι η 4.4, αλλά ενδεχομένως θα υποστηρίζονται κι άλλες εκδόσεις.

2. Εκκίνηση της MongoDB με εντολή σαν την παρακάτω (ανάλογα το σύστημα):

   ```sh
   sudo systemctl start mongod
   ```

3. Κατέβασμα του repository με `git clone` στον επιθυμητό φάκελο και είσοδος στον κύριο φάκελο του project που δημιουργήθηκε.

4. Populate database: Για εύκολη δημιουργία της βάσης και εισαγωγή δεδομένων, παρέχεται το dump της βάσης, που εξάγει η εντολή `mongodump`, στον φάκελο **back-end/dump**. Εκτελώντας από τον κύριο φάκελο του project την παρακάτω εντολή, η βάση φορτώνεται αμέσως ολόκληρη και είναι έτοιμη για χρήση:

   ```sh
   mongorestore back-end/dump
   ```

   > Εναλλακτικά, στον φάκελο **database** υπάρχουν scripts για παραγωγή των τελικών αρχείων (από τα αρχικά που δόθηκαν στο μάθημα), αλλά και για δημιουργία της βάσης και εισαγωγή αυτών. Αρκεί να τοποθετηθούν τα αρχεία που μας δόθηκαν στον φάκελο **database/datafiles/points_original_files** και μετά να εκτελεστούν από τον κύριο φάκελο του project οι εντολές:

    ```sh
     ./database/create_data.sh
     ./database/db_init.sh
    ```

5. Εγκατάσταση Java 11 (ή άλλης συμβατής έκδοσης) για το back-end και python3 για τον cli-client. Εγκατάσταση του [npm](https://www.npmjs.com/get-npm) packet manager για το front-end.

6. Build του back-end:

   ```sh
   cd back-end/evcharge
   ./gradlew build
   ```

   Το build αυτό τρέχει μαζί και τα tests τού back-end από τα οποία θα δημιουργηθεί ένας διαχειριστής admin και θα διαγραφούν όλα τα documents στο collection `chargeEvents`, τα οποία μετά μπορούν να φορτωθούν ξανά manually με import στη βάση ή μέσω του endpoint `/sessionsupd` που περιλαμβάνει η εφαρμογή.

7. Από τον κύριο φάκελο του project για το front-end:

   ```sh
   cd front-end
   npm install
   ```

8. Τώρα η εφαρμογή θα πρέπει να είναι έτοιμη να τρέξει. Από εδώ και πέρα κάθε φορά αρκούν οι παρακάτω εντολές από τον κύριο φάκελο για να τρέξει η εφαρμογή (αφού έχει ξεκινήσει η mongodb):

   ```sh
   cd back-end/evcharge
   ./gradlew bootrun
   ```
   > Από ένα νέο terminal:

   ```sh
   cd front-end
   npm start
   ```

   > Η ιστοσελίδα τής εφαρμογής λογικά θα ανοίξει αυτόματα σε έναν browser στη διεύθυνση `localhost:3000`. Οι διαθέσιμες ενέργειες από την ιστοσελίδα ή το cli περιγράφονται στα `README.md` των αντίστοιχων φακέλων ή/και στο **documentation** και στην εκφώνηση της εργασίας.
